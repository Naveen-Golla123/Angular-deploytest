"use strict";(self.webpackChunkProcureHub_NG=self.webpackChunkProcureHub_NG||[]).push([[264],{5264:(H,d,o)=>{o.r(d),o.d(d,{SupplierAuctionsModule:()=>M});var u=o(6814),s=o(5313),f=o(5647),t=o(5879),h=o(5744),l=o(4828),v=o(2425),A=o(6932),p=o(2272),C=o(8672),g=o(7723),m=o(617);function S(i,r){1&i&&(t.TgZ(0,"th",15),t._uU(1," Name "),t.qZA())}function x(i,r){if(1&i&&(t.TgZ(0,"td",16)(1,"span",17),t._uU(2),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.name)}}function _(i,r){1&i&&(t.TgZ(0,"th",15),t._uU(1," Status "),t.qZA())}function T(i,r){if(1&i&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",e.displayStatusCode," ")}}function Z(i,r){1&i&&t._UZ(0,"th",15)}function y(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"button",20),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit,a=t.oxw();return t.KtG(a.accepted(c))}),t._UZ(2,"mat-icon",21),t.TgZ(3,"span",22),t._uU(4," Accept "),t.qZA()(),t.TgZ(5,"button",23),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit,a=t.oxw();return t.KtG(a.rejected(c))}),t._UZ(6,"mat-icon",24),t.TgZ(7,"span",22),t._uU(8," Reject "),t.qZA()()()}}function b(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"button",25),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openAuction(c))}),t._UZ(2,"div",26),t.TgZ(3,"span",22),t._uU(4," Live "),t.qZA()()()}}function j(i,r){if(1&i&&(t.TgZ(0,"td",16),t.YNc(1,y,9,0,"div",18),t.YNc(2,b,5,0,"div",18),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.isInvited&&!e.isAccepted&&!e.isRejected&&2!=e.statusCode),t.xp6(1),t.Q6J("ngIf",e.isAccepted&&3==e.statusCode)}}function N(i,r){1&i&&t._UZ(0,"tr",27)}function k(i,r){1&i&&t._UZ(0,"tr",28)}let w=(()=>{class i{constructor(e,n,c,a,Q,B,F){this.supplierService=e,this.router=n,this.toasterService=c,this.route=a,this.dataService=Q,this.eventservice=B,this.spinnerService=F,this.dataSource=new s.by,this.auctions=[],this.masterAuctions=[],this.displayedColumns=["name","displayStatusCode","action"],this.headerCofig={title:"Auctions",subTitle:"",enableSubTitle:!1}}ngOnInit(){this.spinnerService.show(),this.supplierService.getInvitedEvents().subscribe(e=>{e&&e.length>0&&e.forEach(n=>{this.auctions.push({name:n.name,description:n.description,statusCode:n.statusCode,displayStatusCode:f.w[n.statusCode],id:n.eventId,createdBy:n.createdBy,isInvited:n.isInvited,isRejected:n.isRejected,isAccepted:n.isAccepted})}),this.dataSource.data=this.auctions,this.masterAuctions=this.auctions,this.spinnerService.hide()})}accepted(e){this.eventservice.acceptEvent(e.id).subscribe(n=>{n&&0!=n&&(e.isAccepted=!0,this.toasterService.success("Accepted Invite Successfully !!"))})}rejected(e){this.eventservice.rejectEvent(e.id).subscribe(n=>{n&&0!=n&&(e.isAccepted=!0,this.toasterService.success("Rejected Invite Successfully !!"))})}onFilterClicked(e){this.auctions="All"==e?this.masterAuctions:this.masterAuctions.filter(n=>1==n[e]),this.dataSource.data=this.auctions}openAuction(e){var n=window.location.origin+"/auction";window.open(n,"_blank")}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(h.p),t.Y36(l.F0),t.Y36(v._W),t.Y36(l.gz),t.Y36(A.L),t.Y36(p.P),t.Y36(C.t2))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-supplier-auction"]],decls:24,vars:4,consts:[[3,"config"],[1,"p-5"],[1,"flex","w-full","items-center","justify-center"],["id","idSection",1,"flex","flex-wrap","justify-around"],[1,"px-[4vh]","py-[2vh]","bg-primary","rounded-xl","text-white","font-sans","font-semibold","mr-10","cursor-pointer",3,"click"],[1,"px-[4vh]","py-[2vh]","bg-white","rounded-xl","text-black","font-sans","font-semibold","mr-10","cursor-pointer",3,"click"],["id","gridSection",1,"p-10"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","displayStatusCode"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"text-black","cursor-pointer","hover:underline","hover:font-medium"],["class","flex justify-center items-center",4,"ngIf"],[1,"flex","justify-center","items-center"],[1,"bg-green-600","text-white","font-medium","p-2","mr-2","pr-[20px]","rounded-md","flex","justify-center","items-center",3,"click"],["aria-hidden","false","aria-label","edit","fontIcon","done",1,"cursor-pointer","text-base"],[1,"ml-1"],[1,"bg-red-600","text-white","font-medium","p-2","mr-2","pr-[20px]","rounded-md","flex","justify-center","items-center",3,"click"],["aria-hidden","false","aria-label","edit","fontIcon","close",1,"cursor-pointer","text-base"],[1,"bg-white","text-green-500","font-medium","p-2","pr-[20px]","mr-2","rounded-md","flex","justify-center","items-center","border-green-500","border-[3px]",3,"click"],["aria-hidden","false",1,"dot","dot--basic"],["mat-header-row",""],["mat-row",""]],template:function(n,c){1&n&&(t._UZ(0,"app-page-header",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.NdJ("click",function(){return c.onFilterClicked("All")}),t._uU(5," All "),t.qZA(),t.TgZ(6,"div",5),t.NdJ("click",function(){return c.onFilterClicked("isAccepted")}),t._uU(7," Accepted "),t.qZA(),t.TgZ(8,"div",5),t.NdJ("click",function(){return c.onFilterClicked("isRejected")}),t._uU(9," Rejected "),t.qZA()()(),t.TgZ(10,"div",6)(11,"div")(12,"table",7),t.ynx(13,8),t.YNc(14,S,2,0,"th",9),t.YNc(15,x,3,1,"td",10),t.BQk(),t.ynx(16,11),t.YNc(17,_,2,0,"th",9),t.YNc(18,T,2,1,"td",10),t.BQk(),t.ynx(19,12),t.YNc(20,Z,1,0,"th",9),t.YNc(21,j,3,2,"td",10),t.BQk(),t.YNc(22,N,1,0,"tr",13),t.YNc(23,k,1,0,"tr",14),t.qZA()()()()),2&n&&(t.Q6J("config",c.headerCofig),t.xp6(12),t.Q6J("dataSource",c.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",c.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",c.displayedColumns))},dependencies:[u.O5,g.q,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,m.Hw],styles:["[_ngcontent-%COMP%]:root{--dot-size: 1rem;--animation-duration: 2s}.dot[_ngcontent-%COMP%]{width:.7rem;height:.7rem;background-color:#22c55e;border-radius:50%;margin:2px}@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:0}50%{opacity:1}}.dot--basic[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 2s infinite}"]})}return i})();var U=o(4991),Y=o(3305),I=o(1043),J=o(5986),D=o(1666);const R=[{path:"",component:w}];let M=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({providers:[p.P],imports:[u.ez,l.Bz.forChild(R),U.Q,Y.To,I.lN,J.p9,s.p0,m.Ps,D.Is,l.Bz]})}return i})()}}]);